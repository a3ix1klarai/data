<!doctype html>
<html lang="en">
    
<!-- Mirrored from www.sierrachart.com/index.php?page=doc/StudiesReference.php&ID=213 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 30 Jun 2023 16:58:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="Sierra Chart is a professional Trading platform for the financial markets. Supporting Manual, Automated and Simulated Trading." >
        <meta name="keywords" content="online trading platform, charting software, futures, stock, forex, discretionary trading, automated trading, trade simulator, trading system development, trading strategy development" >         

        <link rel="stylesheet" type="text/css" href="../images/minified.css" >
        
        <link rel="icon" type="image/png" sizes="192x192" href="../images/favicon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="../images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
        
        <script type="text/javascript" src="../images/jquery-2.2.4.min.js"></script>
        
        <script type="text/javascript">

    function HasPageBeenModified(filemtime = '1546897603') {
        $.ajax({
            url: '/Ajax.php',
            type: 'post',
            data: {
              'Service': 'Page',
              'Do': 'HasPageBeenModified',
              'filemtime': filemtime,
              'FileName': 'doc/StudiesReference.php',
            },
            success: function(data, status) {
              if(data['result'] == "NewPageEdits" && data['Content']) {
                    $('#NewPageEdits').remove();
                    $('#container').append('<div id="NewPageEdits">'+data['Content']+'</div>')
                    $('#NewPageEdits').dialog({
                        width: 150,
                        position: { at: 'right-96 top-5%'},
                        modal: false,
                        resizable: false,
                        create: function (event, ui) { $(event.target).parent().css('position', 'fixed'); }
                    });

                    $(".ui-dialog-titlebar").hide();
              }
            },
            error: function(xhr, desc, err) {
              console.log(xhr);
              console.log("Details: " + desc + " | Error:" + err);
            }
        });

    }

    window.setInterval(HasPageBeenModified , 900000);

</script>

        <title> Sierra Chart</title>
    </head>               
    <body>
        <div id="container">
            <div id="banner" class="pure-g">
    <div class="pure-u-1 pure-u-md-1-3">
        <a href="index.html"><img src="../images/sierrachartlogo.png" alt="Sierra Chart - Financial Market Charting and Trading Software" class="logo"></a>
    </div>
    <div class="pure-u-1 pure-u-md-2-3">
        <div class="pure-g">
            <div class="pure-u-1-2" style="text-align: right;">
            <div class="pure-form CSSDarkMode">
    <form method="GET">
        <input type="hidden" name="DarkMode" value="1">
        <button type="submit" class="pure-button pure-button-primary">Toggle Dark Mode</button>
    </form>
</div>
            </div>            
            <div class="pure-u-1-2">
            <div class="pure-form SearchBar">
    <form action="https://search.sierrachart.com/" method="GET">
        <input name="Query" value="" type="text" placeholder="Find" size="25">
        <input type="hidden" name="submitted" value="true">
        <input type="submit" value="Search" class="pure-button">
    </form>
</div>
            </div>
            <div class="pure-u-1">
                <h2 class="title">Sierra Chart</h2> 
                <p class="tagline">Financial Markets Charting and Trading Platform</p>    
            </div>
        </div>
    </div>
</div>
            <div class="pure-menu pure-menu-horizontal top-nav-bar">
    <ul class="pure-menu-list">
        <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Main</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="index.html">Home</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa55d.html?page=doc/Whats_New.php">What Is New</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc0b8.html?page=doc/Features.php">Features</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index15fc.html?page=doc/Image_gallery.php">User Image Gallery</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index079e.html?page=doc/AdditionalFiles.php">Additional Files</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index9cbb.html?page=doc/AboutUs.php" >About Us</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index3367.html?page=doc/OtherSitesLinks.php">Other Websites</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Documentation</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc0ca.html?page=doc/Contents.php">Table of Contents</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexef11.html?page=doc/help.php">Frequently Asked Questions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexd7a4.html?page=doc/setup.php">Sierra Chart Setup Instructions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa2db.html?page=doc/VideoLibrary.php">Video Library</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php#Services">Symbols</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index3d0c.html?page=doc/DevelopingCustomStudiesAndSystems.php">Developing for Sierra Chart</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index648b.html?page=doc/BrokerServices.html">Services for Brokers</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Getting Started</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexd7a4.html?page=doc/setup.php">Sierra Chart Setup Instructions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index7904.html?page=doc/helpdetails59.php">What Is Included in Free Trial</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index9a78.html?page=doc/FuturesData.php">Understanding Real-time  Futures Data</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Account Management</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="passwordreset.html">Account Password Reset</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="registerstep1.html">Create Account</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php">Account Control Panel</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=AddAccountCredit">Make a Payment</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=ServicesActivation">Activate Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index2a8e.html?page=doc/PurchaseInformation.php">License and Purchase Info</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa1cf.html?page=doc/Packages.php">Pricing</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Support</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="index1c87.html?page=doc/support.html">Contact</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/SupportBoard.php">* Support Board *</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index8727.html?page=doc/SelfHelp.php&amp;Source=Ticket">Self Help/Account Support Tickets</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php">Account Control Panel</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexeb88.html?page=doc/SierraChartStudyAndSystemProgrammers.php">Study &amp; System Programmers</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=StudyStore">Custom Studies Store/List</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index6fe4.html?page=doc/BlockedDomains.php">Blocked Email Domains for Alerts</a></li>
            </ul>
        </li>
    </ul>
</div>
                        
<form action="https://www.sierrachart.com/UserControlPanel.php" method="post" style="margin-top:3.1em;" class="SmallLoginLogOutForm" title="Enter your Sierra Chart Account Name and Password.">
    <input class="TextInput" name="username" placeholder="SC Account Name">
    <input class="TextInput" name="password" type="password">
    <input type="submit" value="Login" >
    <input type="hidden" name="RedirectTo" value="index3e26.html?page=doc/StudiesReference.php&amp;ID=213" >
    <a href="https://www.sierrachart.com/UserControlPanel.php" target="_blank" rel="noopener noreferrer">Login Page</a>
     - <a href="registerstep1.html">Create Account</a>
    
</form>

            <div class="content">
<div class="HierarchyLinks"> <h4 id="top"><a href="index.html">Home</a> &gt;&gt; <a  href="indexc0ca.html?page=doc/Contents.php#StudiesIndicators">(Table of Contents) Studies and Indicators</a> &gt;&gt; <a  href="indexeb8c.html?page=doc/TechnicalStudiesReference.php">Technical Studies Reference</a> &gt;&gt; <a href="index3e26.html?page=doc/StudiesReference.php&amp;ID=213">Bid Ask Depth Bars</a></h4> </div> <h1 class="PageName">Technical Studies Reference</h1>

<section class="h2">
    <ul>
        <li><a href="indexeb8c.html?page=doc/TechnicalStudiesReference.php">Technical Studies Reference</a></li>
        <li><a href="index2db8.html?page=doc/StudiesReference_CommonStudyInputs.php" target="_blank" rel="noopener noreferrer">Common Study Inputs</a> (Opens a new page)</li>
        <li><a href="index9099.html?page=doc/ChartStudies.html#AddingModifyingStudies" target="_blank" rel="noopener noreferrer">Using Studies</a> (Opens a new page)</li>
    </ul>
</section>
<hr>

<h1 class="PageName">Bid &amp; Ask Depth Bars</h1>

<ul>
    <li><a href="#Description">Description</a></li>
    <li><a href="#ImprovingPerformanceOfThisStudy">Improving Performance of this Study</a></li>
	<li><a href="#Inputs">Inputs</a></li>
</ul>

<hr>

<section class="h3">
    <h3 id="Description">Description</h3>
    <div class="member-link">[<a href="#Description">Link</a>] - [<a href="#top">Top</a>]</div>
	
    <p>The <b>Bid  and Ask Depth Bars</b> study creates Candlestick bars below the main Chart Region on the chart based upon the Bid Market Depth quantity totals and Ask Market Depth quantity totals  which occur during the formation of each chart bar.</p>
    
    <p> This study has been updated as of version 1949.  When using this study, use version 1983 or higher.  This study is very accurate since these new versions.  This study is only assured to be accurate when using Sierra_Chart provided data feeds which includes the    <a href = "index2896.html?page=doc/RealTimeDataFeedsAvailableFromSierraChart.php">Real-time Exchange Data Feeds</a>.   With other data feeds, the accuracy is going to be less.</p>

    <p>The <b>Bid and Ask   Depth Bars</b> study  is calculated using the market depth data for the specified number of levels. </p>

    <p>The <b class="menu_item">Chart &gt;&gt; Chart Settings  &gt;&gt; Market Depth &gt;&gt; Number of Levels for Bid/Ask Depth Calculations</b> setting controls the number of market depth levels used in the calculations for this study. </p>
     
    <p>The  <a href = "index2c7f.html?page=doc/DataSourceSettings.php#MaxDepthLevels">Max Depth Levels</a> setting in the  <b class="menu_item">Global Settings &gt;&gt; Data/Trade Service Settings &gt;&gt; SC Server Settings</b> needs to be set to 0, or equal to or greater than the <b>Number of Levels for Bid/Ask Depth Calculations</b> setting.    <a href = "index8793.html?page=doc/FileMenu.html#ProcedureToReconnect">Reconnect</a> to the data feed after changing that setting.</p>
   
    <p>The calculations are performed when the market depth book  has been updated with a batch of changes from the  data feed.  These are not snapshot updates. The batch of changes is based upon standard processing according to the original source data feed from the exchange.   </p>

    <p>So once all the levels are updated  from an exchange update message  and the market depth order book  is in a complete and accurate state, then the calculations are performed.  It is important to understand, that as an order book is incrementally updated level by level, it is momentarily not in a complete and accurate state until the batch of messages from the exchange is processed. The calculations are only done when the book is in a complete and accurate state. </p>

    <p>The Bid &amp; Ask Depth Candlestick bars display the highest and lowest values of the calculated formulas as specified by the <b>Mode</b> Input, for the time duration of the chart bar.</p>
    
    <p>The study relies on the recorded market depth data.   This data is only recorded when connected to the data feed and a study including this one is being used which requires historical market depth data, or the symbol is set to  <a href = "index9600.html?page=doc/ReplayChart.html#ReplayingOfMarketDepthData">record historical market depth data</a>. The symbol must support market depth data as well.  </p>
 
    <p>This recorded market depth data is permanently saved and is persistent.</p>
    
    <p>  When using the CQG data feed, this study is not accurate  with a large number of market depth levels. Refer to  <a href = "indexe37c.html?page=doc/CQGTrading.php#CQGMarketDepthData">CQG Market Depth Data</a>. Furthermore, we do <em>not</em> provide any technical support when using this study with CQG.</p>
    
     <p>    When using the study we recommend using version  1989 or higher.  A careful analysis has been done with   the Bid and Ask  Depth Bars study and it is verified to be accurate.  </p>

    <p>The <b>Mode</b> Input specifies the formula to use. The following formulas are available:</p>

    <ul>
        <li><b>Ratio</b>: ((Total Ask Quantities - Total Bid Quantities) / (Total Ask Quantities + Total Bid Quantities)) * 10.</li>
        <li><b>Difference (Ask - Bid)</b>: Total Ask Quantities - Total Bid Quantities.</li>
        <li><b>Sum</b>: Total Ask Quantities + Total Bid Quantities.</li>
        <li><b>Number Bid/Ask Records</b>: This calculation mode is no longer used effective version 1983 and higher.</li>
        <li><b>Bid Depth vs Ask Depth</b>: Total  Ask Quantities - Total Bid Quantities. The <b>Bid Depth vs Ask Depth</b> Mode does not display Candlestick bars, and instead displays the Bid market depth and Ask  market depth as histogram bars, and the difference as a line.</li>
        <li><b>Sum Bid Side</b>:  Total of the  Bid side market depth quantities.</li>
        <li><b>Sum Ask Side</b>: Total of the  Ask side market depth quantities.</li>
        <li><b>Difference (Bid - Ask)</b>: Total Bid  Quantities - Total Ask Quantities.</li>
        <li><b>Cumulative Difference (Ask - Bid)</b>: Running sum of (Total Ask Quantities - Total Bid Quantities).</li>
        <li><b>Cumulative Difference (Bid - Ask)</b>: Running sum of (Total Bid Quantities - Total Ask Quantities).</li>
    </ul>

    <p>The <b>Cumulative Difference</b> calculation options maintain a cumulative running sum of the depth difference.</p>

    <p>On the <a href="index9099.html?page=doc/ChartStudies.html#SubgraphsTab" >Subgraphs</a> tab of the <b>Study Settings</b> window for this study, the color settings for the first 4 Subgraphs control the Candlestick colors. You can also choose another <b>Graph Draw Type</b> such as <b>OHLC Bar</b> if you do not want to use Candlesticks.</p>


    <section class="h4">
        <h4 id="ImprovingPerformanceOfThisStudy">Improving Performance of this Study</h4>
        <div class="member-link">[<a href="#ImprovingPerformanceOfThisStudy">Link</a>] - [<a href="#top">Top</a>]</div>

        <p>Potentially the <b>Bid and Ask Depth  Bars</b> study can present a significant amount of processing to the primary  thread of Sierra Chart. This is especially true  when there are more than 50 levels of market depth for the symbol of the chart, potentially hundreds of levels of market depth, and the market depth is not being limited in the chart through the <a href = "index4cf4.html?page=doc/ChartSettings.html#MaximumMarketDepthLevels">Maximum Market Depth Levels</a> Chart Setting.</p> 
        
        <p> Do the following to reduce the CPU usage of this study.</p>
        <ol>
            <li>Increase the   <a href = "index4cf4.html?page=doc/ChartSettings.html#ChartUpdateInterval">Chart Update Interval</a> in the Chart Settings. For a chart that is using Bid and Ask   Depth Bars we recommend 1000 ms. Although the benefit of this for this particular study is limited  because it does not really reduce the total amount of calculations that has to be done over a one second period.</li> 
            
            <li> Reduce the <a href = "index4cf4.html?page=doc/ChartSettings.html#NumberOfLevelsForBidAskDepthCalculations">Number of Levels for Bid / Ask Depth Calculations</a> Chart Setting to a nonzero value which is lower than 100.  </li>
            
            
            <li> Reduce the number of instances of the <b>Bid and Ask Depth Bars</b> study you are using  among the charts in your Chartbook.   You should not have it on too many charts.  If you can use it on just one chart that would be best. </li>
            
            <li> Use one of the <a href = "index2896.html?page=doc/RealTimeDataFeedsAvailableFromSierraChart.php">Sierra Chart  Real-time Data Feeds</a>. </li>
        </ol>
        
    </section>

    <section class="h4">
        <h4 id="Inputs">Inputs</h4>
        <div class="member-link">[<a href="#Inputs">Link</a>] - [<a href="#top">Top</a>]</div>

        <ul>
            <li><b>Calculation Mode</b>: This Input controls the formula that is used for the data. See above for explanations of the options available.</li>

                   
            <li><b>Automatically Set Draw Styles</b>: When this Input is set to <b>Yes</b>, then when the <b>Calculation Mode</b> Input is set to <b>Bid Depth vs Ask Depth</b> then the Subgraph Draw Styles for the <b>Bid Depth</b> and the <b>Ask Depth</b> will be automatically set to <b>Bar</b>, and the Subgraph Draw Styles for <b>Zero Line</b> and <b>Difference</b> will be automatically set to <b>Line</b>. Otherwise, if this Input is set to <b>No</b> these draw styles will not be automatically changed when selecting the <b>Bid Depth vs Ask Depth</b> mode.
                <br><br>
                Note that when using any other <b>Calculation Mode</b> the Subgraph Draw Styles Input is controlled by the selection of the <b>Graph Draw Type</b>.
            </li>
        </ul>
    </section>
</section>

<hr><p>*Last modified Tuesday, 31st January, 2023.</p><script type="text/javascript">

      function HasStudyFileBeenModified(filemtime = '1675200809') {
        $.ajax({
            url: '/Ajax.php',
            type: 'post',
            data: {
              'Service': 'Page',
              'Do': 'HasStudyFileBeenModified',
              'filemtime': filemtime,
              'StudyID': '213',
            },
            success: function(data, status) {
              if(data['result'] == "NewPageEdits" && data['Content']) {
                    $('#NewPageEdits').remove();
                    $('#container').append('<div id="NewPageEdits">'+data['Content']+'</div>')
                    $('#NewPageEdits').dialog({
                        width: 150,
                        position: { at: 'right-96 top-5%'},
                        modal: false,
                        resizable: false,
                        create: function (event, ui) { $(event.target).parent().css('position', 'fixed'); }
                    });

                    $(".ui-dialog-titlebar").hide();
              }
            },
            error: function(xhr, desc, err) {
              console.log(xhr);
              console.log("Details: " + desc + " | Error:" + err);
            }
        });

    }

    window.setInterval(HasPageBeenModified , 900000);

</script>

<script type="text/javascript" async src="../images/mathjaxb198.js?config=TeX-MML-AM_CHTML"></script>



                <div id="footer" style="font-size:66%" class="ClearBoth">
                    <hr>
                    <a href="index2a8e.html?page=doc/PurchaseInformation.php" target="_blank" rel="noopener noreferrer">Service Terms and Refund Policy</a>
                    <br><br>
                    
                </div>
            </div>
        </div>
        <script type="text/javascript" src="../images/minified.js"></script>
    </body>

<!-- Mirrored from www.sierrachart.com/index.php?page=doc/StudiesReference.php&ID=213 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 30 Jun 2023 16:58:41 GMT -->
</html>  