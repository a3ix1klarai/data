<!doctype html>
<html lang="en">
    
<!-- Mirrored from www.sierrachart.com/index.php?page=doc/StudiesReference.php&ID=382 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 30 Jun 2023 16:58:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="Sierra Chart is a professional Trading platform for the financial markets. Supporting Manual, Automated and Simulated Trading." >
        <meta name="keywords" content="online trading platform, charting software, futures, stock, forex, discretionary trading, automated trading, trade simulator, trading system development, trading strategy development" >         

        <link rel="stylesheet" type="text/css" href="../images/minified.css" >
        
        <link rel="icon" type="image/png" sizes="192x192" href="../images/favicon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="../images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
        
        <script type="text/javascript" src="../images/jquery-2.2.4.min.js"></script>
        
        <script type="text/javascript">

    function HasPageBeenModified(filemtime = '1546897603') {
        $.ajax({
            url: '/Ajax.php',
            type: 'post',
            data: {
              'Service': 'Page',
              'Do': 'HasPageBeenModified',
              'filemtime': filemtime,
              'FileName': 'doc/StudiesReference.php',
            },
            success: function(data, status) {
              if(data['result'] == "NewPageEdits" && data['Content']) {
                    $('#NewPageEdits').remove();
                    $('#container').append('<div id="NewPageEdits">'+data['Content']+'</div>')
                    $('#NewPageEdits').dialog({
                        width: 150,
                        position: { at: 'right-96 top-5%'},
                        modal: false,
                        resizable: false,
                        create: function (event, ui) { $(event.target).parent().css('position', 'fixed'); }
                    });

                    $(".ui-dialog-titlebar").hide();
              }
            },
            error: function(xhr, desc, err) {
              console.log(xhr);
              console.log("Details: " + desc + " | Error:" + err);
            }
        });

    }

    window.setInterval(HasPageBeenModified , 900000);

</script>

        <title> Sierra Chart</title>
    </head>               
    <body>
        <div id="container">
            <div id="banner" class="pure-g">
    <div class="pure-u-1 pure-u-md-1-3">
        <a href="index.html"><img src="../images/sierrachartlogo.png" alt="Sierra Chart - Financial Market Charting and Trading Software" class="logo"></a>
    </div>
    <div class="pure-u-1 pure-u-md-2-3">
        <div class="pure-g">
            <div class="pure-u-1-2" style="text-align: right;">
            <div class="pure-form CSSDarkMode">
    <form method="GET">
        <input type="hidden" name="DarkMode" value="1">
        <button type="submit" class="pure-button pure-button-primary">Toggle Dark Mode</button>
    </form>
</div>
            </div>            
            <div class="pure-u-1-2">
            <div class="pure-form SearchBar">
    <form action="https://search.sierrachart.com/" method="GET">
        <input name="Query" value="" type="text" placeholder="Find" size="25">
        <input type="hidden" name="submitted" value="true">
        <input type="submit" value="Search" class="pure-button">
    </form>
</div>
            </div>
            <div class="pure-u-1">
                <h2 class="title">Sierra Chart</h2> 
                <p class="tagline">Financial Markets Charting and Trading Platform</p>    
            </div>
        </div>
    </div>
</div>
            <div class="pure-menu pure-menu-horizontal top-nav-bar">
    <ul class="pure-menu-list">
        <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Main</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="index.html">Home</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa55d.html?page=doc/Whats_New.php">What Is New</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc0b8.html?page=doc/Features.php">Features</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index15fc.html?page=doc/Image_gallery.php">User Image Gallery</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index079e.html?page=doc/AdditionalFiles.php">Additional Files</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index9cbb.html?page=doc/AboutUs.php" >About Us</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index3367.html?page=doc/OtherSitesLinks.php">Other Websites</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Documentation</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc0ca.html?page=doc/Contents.php">Table of Contents</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexef11.html?page=doc/help.php">Frequently Asked Questions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexd7a4.html?page=doc/setup.php">Sierra Chart Setup Instructions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa2db.html?page=doc/VideoLibrary.php">Video Library</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php#Services">Symbols</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index3d0c.html?page=doc/DevelopingCustomStudiesAndSystems.php">Developing for Sierra Chart</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index648b.html?page=doc/BrokerServices.html">Services for Brokers</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Getting Started</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexd7a4.html?page=doc/setup.php">Sierra Chart Setup Instructions</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index7904.html?page=doc/helpdetails59.php">What Is Included in Free Trial</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index9a78.html?page=doc/FuturesData.php">Understanding Real-time  Futures Data</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Account Management</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="passwordreset.html">Account Password Reset</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="registerstep1.html">Create Account</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php">Account Control Panel</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=AddAccountCredit">Make a Payment</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=ServicesActivation">Activate Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index2a8e.html?page=doc/PurchaseInformation.php">License and Purchase Info</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexa1cf.html?page=doc/Packages.php">Pricing</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexc97d.html?page=doc/SoftwareDownload.php">Software Download</a></li>
            </ul>
        </li><li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a class="pure-menu-link" href="#">Support</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a class="pure-menu-link" href="index1c87.html?page=doc/support.html">Contact</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/SupportBoard.php">* Support Board *</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index8727.html?page=doc/SelfHelp.php&amp;Source=Ticket">Self Help/Account Support Tickets</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexfda3.html?page=doc/SupportedDataAndTradingServices.php">Data/Trade Services</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php">Account Control Panel</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="indexeb88.html?page=doc/SierraChartStudyAndSystemProgrammers.php">Study &amp; System Programmers</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="https://www.sierrachart.com/UserControlPanel.php?page=StudyStore">Custom Studies Store/List</a></li>
                <li class="pure-menu-item"><a class="pure-menu-link" href="index6fe4.html?page=doc/BlockedDomains.php">Blocked Email Domains for Alerts</a></li>
            </ul>
        </li>
    </ul>
</div>
                        
<form action="https://www.sierrachart.com/UserControlPanel.php" method="post" style="margin-top:3.1em;" class="SmallLoginLogOutForm" title="Enter your Sierra Chart Account Name and Password.">
    <input class="TextInput" name="username" placeholder="SC Account Name">
    <input class="TextInput" name="password" type="password">
    <input type="submit" value="Login" >
    <input type="hidden" name="RedirectTo" value="indexd813.html?page=doc/StudiesReference.php&amp;ID=382" >
    <a href="https://www.sierrachart.com/UserControlPanel.php" target="_blank" rel="noopener noreferrer">Login Page</a>
     - <a href="registerstep1.html">Create Account</a>
    
</form>

            <div class="content">
<div class="HierarchyLinks"> <h4 id="top"><a href="index.html">Home</a> &gt;&gt; <a  href="indexc0ca.html?page=doc/Contents.php#StudiesIndicators">(Table of Contents) Studies and Indicators</a> &gt;&gt; <a  href="indexeb8c.html?page=doc/TechnicalStudiesReference.php">Technical Studies Reference</a> &gt;&gt; <a href="indexd813.html?page=doc/StudiesReference.php&amp;ID=382">Divergence Detector</a></h4> </div> <h1 class="PageName">Technical Studies Reference</h1>

<section class="h2">
    <ul>
        <li><a href="indexeb8c.html?page=doc/TechnicalStudiesReference.php">Technical Studies Reference</a></li>
        <li><a href="index2db8.html?page=doc/StudiesReference_CommonStudyInputs.php" target="_blank" rel="noopener noreferrer">Common Study Inputs</a> (Opens a new page)</li>
        <li><a href="index9099.html?page=doc/ChartStudies.html#AddingModifyingStudies" target="_blank" rel="noopener noreferrer">Using Studies</a> (Opens a new page)</li>
    </ul>
</section>
<hr>

<h1 class="PageName">Divergence Detector</h1>

<section class="h3">
    <p>This study calculates and displays a divergence in slope between the regression line of the Main Price Graph of a chart and that of a Study Subgraph (which corresponds to the <b>Study Subgraph Reference</b> Input) on the same chart.</p>

    <p> A divergence occurs when there is a significant difference in slope. The conditions for a divergence are discussed below. </p>
    
    <p>Let \(X\) and \(S\) be random variables denoting the <b>Input Data</b> and the data from the Study Subgraph, respectively, and let \(X_t\) and \(S_t\) be their respective values at Index \(t\).</p> 
    
    <p>Let the <b>Divergence Length</b>, <b>Divergence Threshold in Degrees</b>, <b>Opposite Slope Divergence Threshold in Degrees</b>, and <b>Value Per Point for Study Reference</b> be denoted as \(n\), \(\phi_D\), \(\phi_O\), and \(v_1\), respectively.</p> 
    
    <p>There are two other parameters that are used in the calculation but are not listed in the Inputs. These are the Tick Size \(s\) and the Value Increment Per Bar in Ticks \(v_2\). \(s\) can be set through <b class="menu_item">Chart &gt;&gt; Chart Settings &gt;&gt; Main Settings</b>, and \(v_2\) can be set through <b class="menu_item">Chart &gt;&gt; Chart Settings &gt;&gt; Chart Drawings</b>.</p>

    <p>We begin by computing the <a href="indexa3d0.html?page=doc/StudiesReference.php&amp;ID=30&amp;Name=Moving_Average_-_Linear_Regression" target="_blank" rel="noopener noreferrer">Linear Regression</a> statistics for both the Main Price Graph and the Study Subgraph, from which we take the following slopes.</p>
    
    \(\displaystyle{b_t\left(\frac{X}{s \cdot v_2},n\right)}\)
    
    <br>
    <br>
    
    \(\displaystyle{b_t\left(\frac{S}{v_1},n\right)}\)
    
    From these slopes, the Main Price Graph and Study Subgraph Angles of Inclination are computed (in degrees) respectively as follows.<br>
    
    \(\theta_t(X, s\cdot v_2, n) = \frac{180^\circ}{\pi}\cdot\tan^{-1}\left(b_t\left(\frac{X}{s \cdot v_2},n\right)\right)\displaystyle\)
    
    <br>
    <br>
    
    \(\theta_t(S, v_1, n) = \frac{180^\circ}{\pi}\cdot\tan^{-1}\left(b_t\left(\frac{S}{v_1},n\right)\right)\displaystyle\)
	
	<p>These Angles are in the interval \((-90^{\circ},90^{\circ})\).</p>
    
    <p>A Divergence exists if any of the following conditions is satisfied.</p>
    
    <ul>
        <li>\(\left|\theta_t(X, s\cdot v_2, n) - \theta_t(S, v_1, n)\right| \geq \phi_D\)</li>
        <li>\(\theta_t(X, s\cdot v_2, n) > 0\) and \(\theta_t(S, v_1, n) < 0\) and \(\left|\theta_t(X, s\cdot v_2, n) - \theta_t(S, v_1, n)\right| \geq \phi_O\)</li>
        <li>\(\theta_t(X, s\cdot v_2, n) < 0\) and \(\theta_t(S, v_1, n) > 0\) and \(\left|\theta_t(X, s\cdot v_2, n) - \theta_t(S, v_1, n)\right| \geq \phi_O\)</li>
    </ul>
    
    <p>If a Divergence exists at Index \(t\), then the Divergence is either Positive or Negative. Positive and Negative Divergences are denoted as \(PD_t(X,S,n,s,v_1,v_2,\phi_D,\phi_O)\) and \(ND_t(X,S,n,s,v_1,v_2,\phi_D,\phi_O)\), respectively. Since this notation is cumbersome, we will omit the function parameters going forward. These Divergences are computed as follows.</p>
    
    \(\displaystyle{PD_t = \left\{ \begin{matrix} L_t - s & \theta_t(S, v_1, n) > \theta_t(X, s\cdot v_2, n) \\ 0 & \theta_t(S, v_1, n) \leq \theta_t(X, s\cdot v_2, n) \end{matrix}\right .}\)
    
    <br>
    <br>
    
    \(\displaystyle{ND_t = \left\{ \begin{matrix} H_t + s & \theta_t(S, v_1, n) \leq \theta_t(X, s\cdot v_2, n) \\ 0 & \theta_t(S, v_1, n) > \theta_t(X, s\cdot v_2, n) \end{matrix}\right .}\)
    
    <p>In the above formulas, \(H_t\) and \(L_t\) denote the High Price and Low Price, respectively, at Index \(t\).</p>
    
    <p>Positive Divergences are indicated with an Up Arrow below a chart bar where they occur.  Negative Divergences are indicated with a Down Arrow above the bar where they occur. This behavior as documented here is effective with version 1576 and higher.</p>

    

    

    <p>The  <a href="indexc5fd.html?page=doc/WindowMenu.html#ToolValuesWindow">Tool Values Window</a> displays the calculated angles by the <b>Divergence Detector</b> study and those angles can be viewed  for any chart bar by using the <a href="indexb844.html?page=doc/Tools.html#ChartValues" target="_blank" rel="noopener noreferrer">Chart Values Tool</a>. This is very helpful in order to determine the proper <b>Divergence Threshold in Degrees</b> Input settings.</p>

    <p>The <b>Subgraph &gt;&gt; Draw Style</b>  setting for the <b>Positive Divergence</b> and <b>Negative Divergence</b> Subgraphs in the Study Settings window can be changed from the default arrows to any other Draw Style that you require.  Refer to <a href="index9099.html?page=doc/ChartStudies.html#DrawStyle">Draw Style</a>.</p>
    
    
    <p>   When there is a positive divergence, this generally would indicate that based upon the Study Subgraph being referenced by the Divergence Detector  study that  the main price graph may change direction from  its downward trend if there has been a downward trend.   When there is a  negative divergence, this generally would indicate that based upon the Study Subgraph being referenced by the Divergence Detector study that  the main price graph may change direction from  its upward trend if there has been a  upward trend. </p>
    
    <section class="h4">
        <h4>Inputs</h4>
        <ul>
            <li><a href="index2db8.html?page=doc/StudiesReference_CommonStudyInputs.php#InputData" target="_blank" rel="noopener noreferrer">Input Data</a></li>

            <li><b>Study Subgraph Reference</b>: This Input is for specifying the Study Subgraph to which a corresponding Main Price Graph is to be compared for the <b>Divergence Detector</b> Study.</li>

            <li><b>Divergence Length</b>: This Input is for setting the number of chart bars  for which linear regression statistics are to be calculated for both the Main Price Graph and the selected Study Subgraph. </li>

            <li><b>Divergence Threshold in Degrees</b>: This Input is for setting the number of degrees by which the angles of inclination of the regression lines for a Main Price Graph and a Study Subgraph may differ before a divergence is detected.  The absolute value of the angle difference must be equal to or exceed <b> Divergence Threshold in Degrees</b> for a divergence to exist.</li>

            <li><b>Opposite Slope Divergence Threshold in Degrees</b>: This Input is for setting the number of degrees by which the angles of inclination of the regression lines for a Main Price Graph and a Study Subgraph may differ before a divergence is detected. This threshold is used only when the lines have angles of inclination that are of opposite signs. The absolute value of the angle difference must be equal to or exceed <b> Opposite Slope Divergence Threshold in Degrees</b> for a divergence to exist.</li>

            <li><b>Value Per Point for Study Reference</b>:  Before the regression line is calculated for the study Subgraph referenced through the  <b>Study Subgraph Reference</b> Input, the values of the study Subgraph are divided by this Input setting. For more information about this <b>Value Per Point</b> Input,  refer to the explanation in the <a href="indexb844.html?page=doc/Tools.html#Angle" Target="_blank" rel="noopener noreferrer">Drawing a Line with a Specific Angle or Slope</a> section on the Drawing Tools page.</li>
        </ul>
    </section>
    
    <section class="h4">
        <h4> Spreadsheet</h4>
        
         <p>The spreadsheet below contains  the formulas for this study in Spreadsheet format.  Save this Spreadsheet to the  <a href="index899f.html?page=doc/GeneralSettings.html#DataFilesFolder"  Target="_blank" rel="noopener noreferrer">Data Files Folder</a>. </p>
         
         <p>Open it through <b class = "menu_item">File &gt;&gt; Open Spreadsheet</b>.  </p>
         
         <p> <a href="https://www.sierrachart.com/SpreadsheetFiles/Divergence_Detector.382.scss" >Divergence_Detector.382.scss</a> </p>
    </section>
</section>

<hr><p>*Last modified Monday, 26th September, 2022.</p><script type="text/javascript">

      function HasStudyFileBeenModified(filemtime = '1664175602') {
        $.ajax({
            url: '/Ajax.php',
            type: 'post',
            data: {
              'Service': 'Page',
              'Do': 'HasStudyFileBeenModified',
              'filemtime': filemtime,
              'StudyID': '382',
            },
            success: function(data, status) {
              if(data['result'] == "NewPageEdits" && data['Content']) {
                    $('#NewPageEdits').remove();
                    $('#container').append('<div id="NewPageEdits">'+data['Content']+'</div>')
                    $('#NewPageEdits').dialog({
                        width: 150,
                        position: { at: 'right-96 top-5%'},
                        modal: false,
                        resizable: false,
                        create: function (event, ui) { $(event.target).parent().css('position', 'fixed'); }
                    });

                    $(".ui-dialog-titlebar").hide();
              }
            },
            error: function(xhr, desc, err) {
              console.log(xhr);
              console.log("Details: " + desc + " | Error:" + err);
            }
        });

    }

    window.setInterval(HasPageBeenModified , 900000);

</script>

<script type="text/javascript" async src="../images/mathjaxb198.js?config=TeX-MML-AM_CHTML"></script>



                <div id="footer" style="font-size:66%" class="ClearBoth">
                    <hr>
                    <a href="index2a8e.html?page=doc/PurchaseInformation.php" target="_blank" rel="noopener noreferrer">Service Terms and Refund Policy</a>
                    <br><br>
                    
                </div>
            </div>
        </div>
        <script type="text/javascript" src="../images/minified.js"></script>
    </body>

<!-- Mirrored from www.sierrachart.com/index.php?page=doc/StudiesReference.php&ID=382 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 30 Jun 2023 16:58:41 GMT -->
</html>  